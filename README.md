# ElevatorSystem
System that controls the elevator logic

Система реализует логику контроля вызовов лифта, расчет времени ожидания лифта и корректную загрузку людей. 
Система делится на логические единицы: 

    1. объект лифт. Хранит только свое состояние: количество людей внутри, актуальный этаж, этаж, на который едет (этаж-цель), находится ли в движении и время движения между этажами (также время на закрытие дверей, нужное чтобы человеку хватило времени зайти)
    2. контроллер. Передает непосредственно команды лифту: ехать или остановиться, открыть или закрыть двери (в экстренных случаях)
    3. сервер. Вычисляет загрузку лифта, обрабатывает вызовы, принимает решение, подсадить ли пассажира по пути, рассчитывает время ожидания. Отдает команды контроллеру.
    
На данный момент это реализовано только на половину, вышеописанное - цель.
  
Описание модулей:

    1. файл settings.json. Содержит целочисленных три поля в формате JSON: "numberOfLevels" для количества этажей в здании, "capacityOfElevator" для максимального количества людей в лифте и "delayBetweenLevelsInSeconds" для времени в пути между этажами в секундах.
    2. файл load_params.py. Загружает данные из json-файла. Содержит метод, читающий поле из файла по имени, и еще три метода для чтения каждого конкретного параметра, которые и вызываются в главном файле для инициализации системы.
    3. файл elevator.py. Объявляет класс лифта. Имеет поля, подразумевающие состояние лифта (см. выше), методы для открытия и закрытия дверей, и методы для движения и остановки.
    4. файл controller. Управляет движением лифта и отвечает за инкапсуляцию запросов к лифту, чтобы его обезопасить. Не только содержит проверки на допустимость, но и хранит очередь, для которой может найти максимальный элемент и извлечь его
    5. файл main.py. Инициализирует систему, создает объект для контроллера, не обращается напрямую к лифту. Имеет основной метод, в бесконечном цикле которого ожидается ввод команды (t для вызова куда-то изнутри (t is to), f - для вызова снаружи (f is from) и 'выход' для завершения программы
    
    
Сделала ввод в отдельном треде, проверку очереди - в отдельном. В целом работает, как я и задумывала. 

Следующим пунктом будет добавление проверок на корректность данных везде, пока все работает на доверии.

Реализованы тесты для лифта и контроллера
________________________________________________
Для конфигурации системы достаточно поменять значения в файле .json на другие (целочисленные положительные, ибо без проверки).

Для запуска системы достаточно запустить main.py. 
Пример последовательности комманд:

f (энтер)

5 (энтер)

//значит "вызываем лифт на 5 этаж"

t (энтер)

1 (энтер)

//значит: "отдаем команду ехать на первый этаж изнутри лифта"

1 (энтер)

//значит: "в лифт зашел один человек"

f (энтер)

10 (энтер)

//значит: "лифт вызвали на 10 этаж снаружи"

f (энтер)

8 (энтер)

//значит: "лифт вызвали на 8 этаж снаружи"
//ожидается: лифт высадит человека на первом этаже, поедет на 8, посадит там человека, затем поедет на 10





