# ElevatorSystem
System that controls the elevator logic

Система реализует логику контроля вызовов лифта, расчет времени ожидания лифта и корректную загрузку людей. 
Система делится на логические единицы: 

    1. объект лифт. Хранит только свое состояние: количество людей внутри, актуальный этаж, этаж, на который едет (этаж-цель), находится ли в движении и время движения между этажами (также время на закрытие дверей, нужное чтобы человеку хватило времени зайти)
    2. контроллер. Передает непосредственно команды лифту: ехать или остановиться, открыть или закрыть двери (в экстренных случаях)
    3. сервер. Вычисляет загрузку лифта, обрабатывает вызовы, принимает решение, подсадить ли пассажира по пути, рассчитывает время ожидания. Отдает команды контроллеру.
    
На данный момент это реализовано только на половину, вышеописанное - цель.
  
Описание модулей:

    1. файл settings.json. Содержит целочисленных три поля в формате JSON: "numberOfLevels" для количества этажей в здании, "capacityOfElevator" для максимального количества людей в лифте и "delayBetweenLevelsInSeconds" для времени в пути между этажами в секундах.
    2. файл load_params.py. Загружает данные из json-файла. Содержит метод, читающий поле из файла по имени, и еще три метода для чтения каждого конкретного параметра, которые и вызываются в главном файле для инициализации системы.
    3. файл elevator.py. Объявляет класс лифта. Имеет поля, подразумевающие состояние лифта (см. выше), методы для открытия и закрытия дверей, и методы для движения и остановки.
    4. файл controller. Управляет движением лифта и отвечает за инкапсуляцию запросов к лифту, чтобы его обезопасить. Не только содержит проверки на допустимость, но и хранит очередь, для которой может найти максимальный элемент и извлечь его
    5. файл main.py. Инициализирует систему, создает объект для контроллера, не обращается напрямую к лифту. Имеет основной метод, в бесконечном цикле которого ожидается ввод команды (t для вызова куда-то изнутри, f - для вызова снаружи
    6. файл elevator_tests. Тестирует инициализацию лифта (для начала взяли задержку равную 1), состояние при движении и само движение. 
    
Ожидание ввода вынесено в отдельный поток. Планируется из него запускать отдельные потоки для вычисления очереди и для движения лифта

Реализован элементарный вывод времени ожидания

Реализованы простые тесты для лифта
________________________________________________
Для конфигурации системы достаточно поменять значения в файле .json на другие (целочисленные положительные, ибо без проверки).
Для запуска системы достаточно запустить main.py и вводить запрашиваемые данные в консоли. При этом важно чтобы остальные файлы были в той же папке с main.py. 

Блок-схема отражающая работу актуальной версии программы
![alt text](https://pp.userapi.com/c824503/v824503391/163d17/H6zHxfQeZcQ.jpg)



